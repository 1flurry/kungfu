AUX_SOURCE_DIRECTORY(. SOURCE_FILES)

ADD_LIBRARY(${PROJECT_NAME} SHARED ${SOURCE_FILES})
SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES LINKER_LANGUAGE CXX)

IF(WIN32)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PUBLIC nanomsg SQLiteCpp fmt)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PRIVATE ${Boost_LIBRARIES})
ENDIF()
IF(UNIX)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PUBLIC nanomsg SQLiteCpp iconv)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PRIVATE ${Boost_LIBRARIES})
ENDIF()
