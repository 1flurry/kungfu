PROJECT(journal)

AUX_SOURCE_DIRECTORY(. SOURCE_FILES)

ADD_LIBRARY(${PROJECT_NAME} SHARED ${SOURCE_FILES})
SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES SOVERSION 1.1 VERSION 1.1)
SET_TARGET_PROPERTIES(${PROJECT_NAME} PROPERTIES LINKER_LANGUAGE CXX)

IF(WIN32)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PRIVATE nanomsg fmt ${Boost_LIBRARIES})
ENDIF()
IF(UNIX AND NOT APPLE)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PRIVATE nanomsg ${Boost_LIBRARIES})
ENDIF()
IF(APPLE)
    TARGET_LINK_LIBRARIES(${PROJECT_NAME} PRIVATE nanomsg ${Boost_LIBRARIES} iconv)
ENDIF()
