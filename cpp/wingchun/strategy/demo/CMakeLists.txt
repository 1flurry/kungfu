
project(strategy_demo)

add_executable(strategy_demo main.cpp simple_strategy.h simple_strategy.cpp)
target_link_libraries(strategy_demo strategy)

if(WIN32)
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/deps/nanomsg-1.1.5/src/nanomsg.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/yijinjing/journal/journal.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/event_loop/event_loop.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/commission/commission.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/util/instrument.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/uid_generator/uid_generator.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/task_scheduler/task_scheduler.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/nn_publisher/nn_publisher.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/oms/oms.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/portfolio/portfolio.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/calendar/calendar.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/" )
    add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/storage/storage.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/strategy.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/strategy_util.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo/")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "C:\\local\\boost_1_64_0\\lib64-msvc-14.1\\boost_filesystem-vc141-mt-gd-1_64.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "C:\\local\\boost_1_64_0\\lib64-msvc-14.1\\boost_system-vc141-mt-gd-1_64.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "C:\\local\\boost_1_64_0\\lib64-msvc-14.1\\boost_locale-vc141-mt-gd-1_64.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo")
	add_custom_command(TARGET strategy_demo POST_BUILD COMMAND ${CMAKE_COMMAND} -E copy "C:\\local\\boost_1_64_0\\lib64-msvc-14.1\\boost_regex-vc141-mt-gd-1_64.dll" "${CMAKE_BINARY_DIR}/cpp/wingchun/strategy/demo")
endif()
